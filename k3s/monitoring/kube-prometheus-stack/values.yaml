grafana:
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: "letsencrypt-prod"
      traefik.ingress.kubernetes.io/ingress.class: traefik
    hosts:
      - grafana.loopin.bid
  additionalDataSources:
    - name: Loki
      type: loki
      url: http://loki-gateway.monitoring.svc.cluster.local/
      access: proxy
      isDefault: false
      jsonData:
        timeout: 60
        maxLines: 1000
        httpHeaderName1: 'X-Scope-OrgID'
        derivedFields:
          - datasourceUid: P214B5B846CF3925F
            matcherRegex: "\\[[^,]+,([a-fA-F0-9]{32}),"
            name: TraceID
            url: "$${__value.raw}"
      secureJsonData:
        httpHeaderValue1: 'tenant1'
    - name: Tempo
      type: tempo
      uid: tempo
      url: http://tempo.monitoring.svc.cluster.local:3200
      access: proxy
      isDefault: false
